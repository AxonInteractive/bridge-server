!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Bridge=e()}}(function(){var e;return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){var n=e("./include/crypto-js/enc-hex"),r=(e("./include/json3"),e("./include/jstorage"),e("./include/crypto-js/sha256")),o=e("./Identity");t.exports=function(){"use strict";var e={},t=null,i=function(){t=null},a=function(){e.user=null,e.additionalData=null},s=function(){return null!==t},u=function(n,r,o,i){"function"==typeof e.onRequestCalled&&e.onRequestCalled(n,r,o);var a=new jQuery.Deferred,u=null;if(null!==i&&"object"==typeof i)u=i;else{if(s()!==!0)return e.debug===!0&&console.warn("BRIDGE | Request | Request cannot be sent. No user credentials available."),a.reject({status:412,message:"412 (Precondition Failed) Null user identity."},null),a.promise();u=t}var c=null;return c="GET"===n.toUpperCase()?"payload="+JSON.stringify(u.createRequest(o)):JSON.stringify(u.createRequest(o)),jQuery.ajax({type:n,url:e.url+r,data:c,dataType:"json",contentType:"application/json",headers:{Accept:"application/json"},timeout:e.timeout,async:!0}).done(function(e,t,n){return"object"!=typeof e||"object"!=typeof e.content?void a.reject({status:417,message:"417 (Expectation Failed) Malformed message."},n):void a.resolve(e,n)}).fail(function(e){var t=Bridge.isErrorCodeResponse(e);null!==t?a.reject(t,e):a.reject({status:0,message:"0 (Timeout) No response from the server."},e)}),a.promise()},c=function(i,a){"function"==typeof e.onFChangePassword&&e.onChangePassword();var s=r(i).toString(n),c=r(a).toString(n);i=null,a=null;var l=new jQuery.Deferred,f=function(n,r){return"string"!=typeof n.content.message?void d({status:417,message:"417 (Expectation Failed) Malformed message."},r):(p(t.email,c,!0),e.debug===!0&&console.log("BRIDGE | Change Password | "+n.content.message),void l.resolve(n,r))},d=function(e,t){Bridge.debug===!0&&console.error("BRIDGE | Change Password | "+e.status.toString()+" >> "+e.message),l.reject(e,t)},g={appData:{},email:"",firstName:"",lastName:"",password:c},h=new o(t.email,s,!0);return u("PUT","users",g,h).done(f).fail(d),l.promise()},l=function(t){"function"==typeof e.onForgotPassword&&e.onForgotPassword(t);var n=new jQuery.Deferred,r=function(t,r){return"string"!=typeof t.content.message?void i({status:417,message:"417 (Expectation Failed) Malformed message."},r):(e.debug===!0&&console.log("BRIDGE | Forgot Password | "+t.content.message),void n.resolve(t,r))},i=function(e,t){Bridge.debug===!0&&console.error("BRIDGE | Forgot Password | "+e.status.toString()+" >> "+e.message),n.reject(e,t)},a={message:t},s=new o("","",!0);return u("PUT","forgot-password",a,s).done(r).fail(i),n.promise()},f=function(t,o,i,s){"function"==typeof e.onLoginCalled&&e.onLoginCalled(t,i);var c=s===!0?o:r(o).toString(n);o=null;var l=new jQuery.Deferred,f=function(n,r){return"object"!=typeof n.content.user?void d({status:417,message:"417 (Expectation Failed) Malformed login package."},r):(e.debug===!0&&console.log("BRIDGE | Login | "+JSON.stringify(n.content)),y(n.content.user,n.content.additionalData),e.useLocalStorage&&(jQuery.jStorage.set("bridge-client-identity",JSON.stringify({email:t,password:c})),jQuery.jStorage.setTTL("bridge-client-identity",864e5)),void l.resolve(n,r))},d=function(e,t){a(),Bridge.debug===!0&&console.error("BRIDGE | Login | "+e.status.toString()+" >> "+e.message),l.reject(e,t)},g={};return e.useLocalStorage=i,p(t,c,!0),u("GET","login",g,null).done(f).fail(d),l.promise()},d=function(t,i,a){"function"==typeof e.onRecoverPasswordCalled&&e.onRecoverPasswordCalled(t,a);var s=r(i).toString(n);i=null;var c=new jQuery.Deferred,l=function(t,n){return"string"!=typeof t.content.message?void f({status:417,message:"417 (Expectation Failed) Malformed message."},n):(e.debug===!0&&console.log("BRIDGE | Recover Password | "+t.content.message),void c.resolve(t,n))},f=function(e,t){Bridge.debug===!0&&console.error("BRIDGE | Recover Password | "+e.status.toString()+" >> "+e.message),c.reject(e,t)},d={hash:a,message:s},g=new o("","",!0);return u("PUT","recover-password",d,g).done(l).fail(f),c.promise()},g=function(t,i,a,s,c){"function"==typeof e.onRegisterCalled&&e.onRegisterCalled(t,a,s,c);var l=r(i).toString(n);i=null;var f=new jQuery.Deferred,d=function(t,n){return"string"!=typeof t.content.message?void g({status:417,message:"417 (Expectation Failed) Malformed message."},n):(e.debug===!0&&console.log("BRIDGE | Register | "+t.content.message),void f.resolve(t,n))},g=function(e,t){Bridge.debug===!0&&console.error("BRIDGE | Register | "+e.status.toString()+" >> "+e.message),f.reject(e,t)},h={appData:c,email:t,firstName:a,lastName:s,password:l},p=new o("","",!0);return u("POST","users",h,p).done(d).fail(g),f.promise()},h=function(t,n){"function"==typeof e.onVerifyEmailCalled&&e.onVerifyEmailCalled(t,n);var r=new jQuery.Deferred,i=function(t,n){return"string"!=typeof t.content.message?void a({status:417,message:"417 (Expectation Failed) Malformed message."},n):(e.debug===!0&&console.log("BRIDGE | Verify Email | "+t.content.message),void r.resolve(t,n))},a=function(e,t){Bridge.debug===!0&&console.error("BRIDGE | Verify Email | "+e.status.toString()+" >> "+e.message),r.reject(e,t)},s={hash:n},c=new o("","",!0);return u("PUT","verify-email",s,c).done(i).fail(a),r.promise()},p=function(e,n,r){t=new o(e,n,r)},y=function(t,n){e.user=t,e.additionalData=n};return e.additionalData=null,e.debug=!1,e.timeout=1e4,e.url="",e.useLocalStorage=!1,e.user=null,e.onChangePasswordCalled=null,e.onForgotPasswordCalled=null,e.onLoginCalled=null,e.onLogoutCalled=null,e.onRecoverPasswordCalled=null,e.onRegisterCalled=null,e.onRequestCalled=null,e.onVerifyEmailCalled=null,e.init=function(t,n){e.url=t,e.timeout=n},e.isErrorCodeResponse=function(e){if(e.status>=400&&e.status<600)switch(e.status){case 400:return{status:400,message:"400 (Bad Request) >> Your request was not formatted correctly."};case 401:return{status:401,message:"401 (Unauthorized) >> You do not have sufficient priveliges to perform this operation."};case 403:return{status:403,message:"403 (Forbidden) >> Your email and password do not match any user on file."};case 404:return{status:404,message:"404 (Not Found) >> The resource you requested does not exist."};case 409:return{status:409,message:"409 (Conflict) >> A unique database field matching your PUT may already exist."};case 500:return{status:500,message:"500 (Internal Server Error) >> An error has taken place in the Bridge server."};case 503:return{status:503,message:"503 (Service Unavailable) >> The Bridge server may be stopped."};default:return{status:e.status,message:"Error! Something went wrong!"}}return null},e.isLoggedIn=function(){return null!==e.user},e.logout=function(){i(),a(),jQuery.jStorage.deleteKey("bridge-client-identity"),"function"==typeof e.onLogoutCalled&&e.onLogoutCalled()},e.request=function(e,t,n){return u(e,t,n,null)},e.requestChangePassword=function(e,t){return c(e,t)},e.requestForgotPassword=function(e){return l(e)},e.requestLogin=function(e,t,n){return f(e,t,n,!1)},e.requestLoginStoredIdentity=function(){var t=jQuery.jStorage.get("bridge-client-identity",null);if(null!==t){var n=JSON.parse(t);return e.debug===!0&&console.log("Stoed identity: "+JSON.stringify(n)),f(n.email,n.password,!0,!0)}return null},e.requestRecoverPassword=function(e,t,n){return d(e,t,n)},e.requestRegister=function(e,t,n,r,o){return g(e,t,n,r,o)},e.requestVerifyEmail=function(e,t){return h(e,t)},e}},{"./Identity":2,"./include/crypto-js/enc-hex":4,"./include/crypto-js/sha256":7,"./include/json3":8,"./include/jstorage":9}],2:[function(e,t){{var n=e("./include/crypto-js/enc-hex"),r=e("./include/crypto-js/hmac-sha256");e("./include/json3")}t.exports=function(e,t,o){"use strict";var i={},a=o===!0?t:sha256(t).toString(n);t=null;var s=function(e){var t=JSON.stringify(e.content),o=e.email,i=e.time.toISOString(),s=t+o+i;return e.hmac=r(s,a).toString(n),Bridge.debug===!0&&(console.log("=== HMAC Signing Process ==="),console.log('Hashpass: "'+a+'"'),console.log('Content: "'+t+'"'),console.log('Email: "'+o+'"'),console.log('Time: "'+i+'"'),console.log('Concat: "'+s+'"'),console.log('HMAC: "'+e.hmac+'"'),console.log("============================")),e};return i.email=e,i.createRequest=function(t){return s({content:t,email:e,time:new Date})},i}},{"./include/crypto-js/enc-hex":4,"./include/crypto-js/hmac-sha256":5,"./include/json3":8}],3:[function(t,n,r){!function(t,o){"object"==typeof r?n.exports=r=o():"function"==typeof e&&e.amd?e([],o):t.CryptoJS=o()}(this,function(){var e=e||function(e,t){var n={},r=n.lib={},o=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),i=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;o>i;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else if(n.length>65535)for(var i=0;o>i;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var o=(n<<16)+t&r;return o/=4294967296,o+=.5,o*(e.random()>.5?1:-1)}},a=0;t>a;a+=4){var s=o(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new i.init(r,t)}}),a=n.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;n>o;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;n>o;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,a=this.blockSize,s=4*a,u=o/s;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*a,l=e.min(4*c,o);if(c){for(var f=0;c>f;f+=a)this._doProcessBlock(r,f);var d=r.splice(0,c);n.sigBytes-=l}return new i.init(d,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);return e})},{}],4:[function(t,n,r){!function(o,i){"object"==typeof r?n.exports=r=i(t("./core")):"function"==typeof e&&e.amd?e(["./core"],i):i(o.CryptoJS)}(this,function(e){return e.enc.Hex})},{"./core":3}],5:[function(t,n,r){!function(o,i){"object"==typeof r?n.exports=r=i(t("./core"),t("./sha256"),t("./hmac")):"function"==typeof e&&e.amd?e(["./core","./sha256","./hmac"],i):i(o.CryptoJS)}(this,function(e){return e.HmacSHA256})},{"./core":3,"./hmac":6,"./sha256":7}],6:[function(t,n,r){!function(o,i){"object"==typeof r?n.exports=r=i(t("./core")):"function"==typeof e&&e.amd?e(["./core"],i):i(o.CryptoJS)}(this,function(e){!function(){{var t=e,n=t.lib,r=n.Base,o=t.enc,i=o.Utf8,a=t.algo;a.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,c=0;n>c;c++)s[c]^=1549556828,u[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})}}()})},{"./core":3}],7:[function(t,n,r){!function(o,i){"object"==typeof r?n.exports=r=i(t("./core")):"function"==typeof e&&e.amd?e(["./core"],i):i(o.CryptoJS)}(this,function(e){return function(t){var n=e,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.algo,s=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;n>=r;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;64>o;)e(r)&&(8>o&&(s[o]=n(t.pow(r,.5))),u[o]=n(t.pow(r,1/3)),o++),r++}();var c=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],f=n[6],d=n[7],g=0;64>g;g++){if(16>g)c[g]=0|e[t+g];else{var h=c[g-15],p=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,y=c[g-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[g]=p+c[g-7]+m+c[g-16]}var w=s&l^~s&f,v=r&o^r&i^o&i,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=(s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25),j=d+S+w+u[g]+c[g],b=_+v;d=f,f=l,l=s,s=a+j|0,a=i,i=o,o=r,r=j+b|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[(o+64>>>9<<4)+14]=t.floor(r/4294967296),n[(o+64>>>9<<4)+15]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=i._createHelper(l),n.HmacSHA256=i._createHmacHelper(l)}(Math),e.SHA256})},{"./core":3}],8:[function(t,n,r){(function(t){(function(){function o(e,t){function n(e){if(n[e]!==y)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&v;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===u(0)&&"0"===u(new r)&&'""'==u(new i)&&u(w)===y&&u(y)===y&&u()===y&&"1"===u(a)&&"[1]"==u([a])&&"[null]"==u([y])&&"null"==u(null)&&"[null,null,null]"==u([y,w,null])&&u({a:[a,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===u(null,a)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new c(-1))}catch(f){l=!1}}o=l}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){a=d(s);var g=5==a.a.length&&1===a.a[0];if(g){try{g=!d('"	"')}catch(f){}if(g)try{g=1!==d("01")}catch(f){}if(g)try{g=1!==d("1.")}catch(f){}}}}catch(f){g=!1}o=g}}return n[e]=!!o}e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,i=e.String||u.String,s=e.Object||u.Object,c=e.Date||u.Date,l=e.SyntaxError||u.SyntaxError,f=e.TypeError||u.TypeError,d=e.Math||u.Math,g=e.JSON||u.JSON;"object"==typeof g&&g&&(t.stringify=g.stringify,t.parse=g.parse);var h,p,y,m=s.prototype,w=m.toString,v=new c(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(_){}if(!n("json")){var S="[object Function]",j="[object Date]",b="[object Number]",C="[object String]",T="[object Array]",O="[object Boolean]",B=n("bug-string-char-index");if(!v)var x=d.floor,P=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return P[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};if((h=m.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=w?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),p=function(e,t){var n,r,o,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)h.call(r,o)&&i++;return n=r=null,i?p=2==i?function(e,t){var n,r={},o=w.call(e)==S;for(n in e)o&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,o=w.call(e)==S;for(n in e)o&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var n,o,i=w.call(e)==S,s=!i&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)i&&"prototype"==n||!s.call(e,n)||t(n);for(o=r.length;n=r[--o];s.call(e,n)&&t(n));}),p(e,t)},!n("json-stringify")){var D={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E="000000",R=function(e,t){return(E+(t||0)).slice(-e)},N="\\u00",L=function(e){for(var t='"',n=0,r=e.length,o=!B||r>10,i=o&&(B?e.split(""):e);r>n;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=D[a];break;default:if(32>a){t+=N+R(2,a.toString(16));break}t+=o?i[n]:e.charAt(n)}}return t+'"'},J=function(e,t,n,r,o,i,a){var s,u,c,l,d,g,m,v,_,S,B,P,D,E,N,M;try{s=t[e]}catch(I){}if("object"==typeof s&&s)if(u=w.call(s),u!=j||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(u!=b&&u!=C&&u!=T||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&1/0>s){if(A){for(d=x(s/864e5),c=x(d/365.2425)+1970-1;A(c+1,0)<=d;c++);for(l=x((d-A(c,0))/30.42);A(c,l+1)<=d;l++);d=1+d-A(c,l),g=(s%864e5+864e5)%864e5,m=x(g/36e5)%24,v=x(g/6e4)%60,_=x(g/1e3)%60,S=g%1e3}else c=s.getUTCFullYear(),l=s.getUTCMonth(),d=s.getUTCDate(),m=s.getUTCHours(),v=s.getUTCMinutes(),_=s.getUTCSeconds(),S=s.getUTCMilliseconds();s=(0>=c||c>=1e4?(0>c?"-":"+")+R(6,0>c?-c:c):R(4,c))+"-"+R(2,l+1)+"-"+R(2,d)+"T"+R(2,m)+":"+R(2,v)+":"+R(2,_)+"."+R(3,S)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(u=w.call(s),u==O)return""+s;if(u==b)return s>-1/0&&1/0>s?""+s:"null";if(u==C)return L(""+s);if("object"==typeof s){for(E=a.length;E--;)if(a[E]===s)throw f();if(a.push(s),B=[],N=i,i+=o,u==T){for(D=0,E=s.length;E>D;D++)P=J(D,s,n,r,o,i,a),B.push(P===y?"null":P);M=B.length?o?"[\n"+i+B.join(",\n"+i)+"\n"+N+"]":"["+B.join(",")+"]":"[]"}else p(r||s,function(e){var t=J(e,s,n,r,o,i,a);t!==y&&B.push(L(e)+":"+(o?" ":"")+t)}),M=B.length?o?"{\n"+i+B.join(",\n"+i)+"\n"+N+"}":"{"+B.join(",")+"}":"{}";return a.pop(),M}};t.stringify=function(e,t,n){var r,o,i,s;if(a[typeof t]&&t)if((s=w.call(t))==S)o=t;else if(s==T){i={};for(var u,c=0,l=t.length;l>c;u=t[c++],s=w.call(u),(s==C||s==b)&&(i[u]=1));}if(n)if((s=w.call(n))==b){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==C&&(r=n.length<=10?n:n.slice(0,10));return J("",(u={},u[""]=e,u),o,i,r,"",[])}}if(!n("json-parse")){var M,I,U=i.fromCharCode,q={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw M=I=null,l()},F=function(){for(var e,t,n,r,o,i=I,a=i.length;a>M;)switch(o=i.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=B?i.charAt(M):i[M],M++,e;case 34:for(e="@",M++;a>M;)if(o=i.charCodeAt(M),32>o)H();else if(92==o)switch(o=i.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=q[o],M++;break;case 117:for(t=++M,n=M+4;n>M;M++)o=i.charCodeAt(M),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||H();e+=U("0x"+i.slice(t,M));break;default:H()}else{if(34==o)break;for(o=i.charCodeAt(M),t=M;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++M);e+=i.slice(t,M)}if(34==i.charCodeAt(M))return M++,e;H();default:if(t=M,45==o&&(r=!0,o=i.charCodeAt(++M)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt(M+1),o>=48&&57>=o)&&H(),r=!1;a>M&&(o=i.charCodeAt(M),o>=48&&57>=o);M++);if(46==i.charCodeAt(M)){for(n=++M;a>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==M&&H(),M=n}if(o=i.charCodeAt(M),101==o||69==o){for(o=i.charCodeAt(++M),(43==o||45==o)&&M++,n=M;a>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==M&&H(),M=n}return+i.slice(t,M)}if(r&&H(),"true"==i.slice(M,M+4))return M+=4,!0;if("false"==i.slice(M,M+5))return M+=5,!1;if("null"==i.slice(M,M+4))return M+=4,null;H()}return"$"},k=function(e){var t,n;if("$"==e&&H(),"string"==typeof e){if("@"==(B?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;n||(n=!0))n&&(","==e?(e=F(),"]"==e&&H()):H()),","==e&&H(),t.push(k(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;n||(n=!0))n&&(","==e?(e=F(),"}"==e&&H()):H()),(","==e||"string"!=typeof e||"@"!=(B?e.charAt(0):e[0])||":"!=F())&&H(),t[e.slice(1)]=k(F());return t}H()}return e},z=function(e,t,n){var r=G(e,t,n);r===y?delete e[t]:e[t]=r},G=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if(w.call(o)==T)for(r=o.length;r--;)z(o,r,n);else p(o,function(e){z(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return M=0,I=""+e,n=k(F()),"$"!=F()&&H(),M=I=null,t&&w.call(t)==S?G((r={},r[""]=n,r),"",t):n}}}return t.runInContext=o,t}var i="function"==typeof e&&e.amd,a={"function":!0,object:!0},s=a[typeof r]&&r&&!r.nodeType&&r,u=a[typeof window]&&window||this,c=s&&a[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),s&&!i)o(u,s);else{var l=u.JSON,f=u.JSON3,d=!1,g=o(u,u.JSON3={noConflict:function(){return d||(d=!0,u.JSON=l,u.JSON3=f,l=f=null),g}});u.JSON={parse:g.parse,stringify:g.stringify}}i&&e(function(){return g})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(){!function(){function e(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(e)try{window.localStorage&&(S=window.localStorage,C="localStorage",B=S.jStorage_update)}catch(o){}else if("globalStorage"in window)try{window.globalStorage&&(S="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],C="globalStorage",B=S.jStorage_update)}catch(i){}else{if(j=document.createElement("link"),!j.addBehavior)return void(j=null);j.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(j);try{j.load("jStorage")}catch(a){j.setAttribute("jStorage","{}"),j.save("jStorage"),j.load("jStorage")}var u="{}";try{u=j.getAttribute("jStorage")}catch(c){}try{B=j.getAttribute("jStorage_update")}catch(d){}S.jStorage=u,C="userDataBehavior"}s(),l(),n(),f(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&r()},!1)}function t(){var e="{}";if("userDataBehavior"==C){j.load("jStorage");try{e=j.getAttribute("jStorage")}catch(t){}try{B=j.getAttribute("jStorage_update")}catch(n){}S.jStorage=e}s(),l(),f()}function n(){"localStorage"==C||"globalStorage"==C?"addEventListener"in window?window.addEventListener("storage",r,!1):document.attachEvent("onstorage",r):"userDataBehavior"==C&&setInterval(r,1e3)}function r(){var e;clearTimeout(O),O=setTimeout(function(){if("localStorage"==C||"globalStorage"==C)e=S.jStorage_update;else if("userDataBehavior"==C){j.load("jStorage");try{e=j.getAttribute("jStorage_update")}catch(t){}}e&&e!=B&&(B=e,o())},25)}function o(){var e,n=w.parse(w.stringify(_.__jstorage_meta.CRC32));t(),e=w.parse(w.stringify(_.__jstorage_meta.CRC32));var r,o=[],a=[];for(r in n)if(n.hasOwnProperty(r)){if(!e[r]){a.push(r);continue}n[r]!=e[r]&&"2."==String(n[r]).substr(0,2)&&o.push(r)}for(r in e)e.hasOwnProperty(r)&&(n[r]||o.push(r));i(o,"updated"),i(a,"deleted")}function i(e,t){if(e=[].concat(e||[]),"flushed"==t){e=[];for(var n in T)T.hasOwnProperty(n)&&e.push(n);t="deleted"}for(var r=0,o=e.length;o>r;r++){if(T[e[r]])for(var i=0,a=T[e[r]].length;a>i;i++)T[e[r]][i](e[r],t);if(T["*"])for(var i=0,a=T["*"].length;a>i;i++)T["*"][i](e[r],t)}}function a(){var e=(+new Date).toString();if("localStorage"==C||"globalStorage"==C)try{S.jStorage_update=e}catch(t){C=!1}else"userDataBehavior"==C&&(j.setAttribute("jStorage_update",e),j.save("jStorage"));r()}function s(){if(S.jStorage)try{_=w.parse(String(S.jStorage))}catch(e){S.jStorage="{}"}else S.jStorage="{}";b=S.jStorage?String(S.jStorage).length:0,_.__jstorage_meta||(_.__jstorage_meta={}),_.__jstorage_meta.CRC32||(_.__jstorage_meta.CRC32={})}function u(){g();try{S.jStorage=w.stringify(_),j&&(j.setAttribute("jStorage",S.jStorage),j.save("jStorage")),b=S.jStorage?String(S.jStorage).length:0}catch(e){}}function c(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==e)throw new TypeError("Reserved key name");return!0}function l(){var e,t,n,r,o=1/0,s=!1,c=[];if(clearTimeout(v),_.__jstorage_meta&&"object"==typeof _.__jstorage_meta.TTL){e=+new Date,n=_.__jstorage_meta.TTL,r=_.__jstorage_meta.CRC32;for(t in n)n.hasOwnProperty(t)&&(n[t]<=e?(delete n[t],delete r[t],delete _[t],s=!0,c.push(t)):n[t]<o&&(o=n[t]));1/0!=o&&(v=setTimeout(Math.min(l,o-e,2147483647))),s&&(u(),a(),i(c,"deleted"))}}function f(){var e,t;if(_.__jstorage_meta.PubSub){var n,r=P;for(e=t=_.__jstorage_meta.PubSub.length-1;e>=0;e--)n=_.__jstorage_meta.PubSub[e],n[0]>P&&(r=n[0],d(n[1],n[2]));P=r}}function d(e,t){if(x[e])for(var n=0,r=x[e].length;r>n;n++)try{x[e][n](e,w.parse(w.stringify(t)))}catch(o){}}function g(){if(_.__jstorage_meta.PubSub){for(var e=+new Date-2e3,t=0,n=_.__jstorage_meta.PubSub.length;n>t;t++)if(_.__jstorage_meta.PubSub[t][0]<=e){_.__jstorage_meta.PubSub.splice(t,_.__jstorage_meta.PubSub.length-t);break}_.__jstorage_meta.PubSub.length||delete _.__jstorage_meta.PubSub}}function h(e,t){_.__jstorage_meta||(_.__jstorage_meta={}),_.__jstorage_meta.PubSub||(_.__jstorage_meta.PubSub=[]),_.__jstorage_meta.PubSub.unshift([+new Date,e,t]),u(),a()}function p(e,t){for(var n,r=e.length,o=t^r,i=0;r>=4;)n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^n,r-=4,++i;switch(r){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o^=255&e.charCodeAt(i),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)}return o^=o>>>13,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>15,o>>>0}var y="0.4.8",m=window.jQuery||window.$||(window.$={}),w={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||m.parseJSON||m.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||m.toJSON};if(!("parse"in w&&"stringify"in w))throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var v,_={__jstorage_meta:{CRC32:{}}},S={jStorage:"{}"},j=null,b=0,C=!1,T={},O=!1,B=0,x={},P=+new Date,A={isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(n){}}return!1},decode:function(e){var t,n="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return n?(t=n.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),this.isXML(t)?t:!1):!1}};m.jStorage={version:y,set:function(e,t,n){if(c(e),n=n||{},"undefined"==typeof t)return this.deleteKey(e),t;if(A.isXML(t))t={_is_xml:!0,xml:A.encode(t)};else{if("function"==typeof t)return void 0;t&&"object"==typeof t&&(t=w.parse(w.stringify(t)))}return _[e]=t,_.__jstorage_meta.CRC32[e]="2."+p(w.stringify(t),2538058380),this.setTTL(e,n.TTL||0),i(e,"updated"),t},get:function(e,t){return c(e),e in _?_[e]&&"object"==typeof _[e]&&_[e]._is_xml?A.decode(_[e].xml):_[e]:"undefined"==typeof t?null:t},deleteKey:function(e){return c(e),e in _?(delete _[e],"object"==typeof _.__jstorage_meta.TTL&&e in _.__jstorage_meta.TTL&&delete _.__jstorage_meta.TTL[e],delete _.__jstorage_meta.CRC32[e],u(),a(),i(e,"deleted"),!0):!1},setTTL:function(e,t){var n=+new Date;return c(e),t=Number(t)||0,e in _?(_.__jstorage_meta.TTL||(_.__jstorage_meta.TTL={}),t>0?_.__jstorage_meta.TTL[e]=n+t:delete _.__jstorage_meta.TTL[e],u(),l(),a(),!0):!1},getTTL:function(e){var t,n=+new Date;return c(e),e in _&&_.__jstorage_meta.TTL&&_.__jstorage_meta.TTL[e]?(t=_.__jstorage_meta.TTL[e]-n,t||0):0},flush:function(){return _={__jstorage_meta:{CRC32:{}}},u(),a(),i(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=_,new e},index:function(){var e,t=[];for(e in _)_.hasOwnProperty(e)&&"__jstorage_meta"!=e&&t.push(e);return t},storageSize:function(){return b},currentBackend:function(){return C},storageAvailable:function(){return!!C},listenKeyChange:function(e,t){c(e),T[e]||(T[e]=[]),T[e].push(t)},stopListening:function(e,t){if(c(e),T[e]){if(!t)return void delete T[e];for(var n=T[e].length-1;n>=0;n--)T[e][n]==t&&T[e].splice(n,1)}},subscribe:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");x[e]||(x[e]=[]),x[e].push(t)},publish:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");h(e,t)},reInit:function(){t()},noConflict:function(e){return delete window.$.jStorage,e&&(window.jStorage=this),this}},e()}()},{}],10:[function(e,t){var n=e("./Bridge");t.exports=new n},{"./Bridge":1}]},{},[10])(10)});